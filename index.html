<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì Cash Card</title>
  <style>
    body { font-family: sans-serif; padding: 20px; background: #f5f5f5; }
    .box { max-width: 480px; margin: auto; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px #ccc; }
    h2 { text-align: center; }
    input[type="number"] { width: 100%; padding: 10px; margin: 10px 0; font-size: 16px; }
    button { width: 100%; padding: 10px; background: orange; color: white; font-size: 16px; border: none; border-radius: 5px; }
    .result { margin-top: 20px; font-size: 15px; line-height: 1.6; }
  </style>
</head>
<body>
  <div class="box">
    <h2>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì Cash Card</h2>
    <label>‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ:</label>
    <input id="amountInput" type="number" placeholder="‡πÄ‡∏ä‡πà‡∏ô 13000" />
    <button onclick="calculate()">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</button>
    <div class="result" id="resultBox"></div>
  </div>

  <script>
    function calculate() {
      const amount = parseFloat(document.getElementById('amountInput').value);
      if (isNaN(amount) || amount <= 0) {
        alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
        return;
      }

      const cardOptions = [
        { cash: 100000, gift: 44000 },
        { cash: 50000, gift: 22000 },
        { cash: 30000, gift: 13200 },
        { cash: 5000, gift: 2200 },
      ];

      let usedCards = [];
      let totalCovered = 0;
      let totalCashUsed = 0;
      let remaining = amount;

      for (let option of cardOptions) {
        let totalValue = option.cash + option.gift;
        let count = Math.floor(remaining / totalValue);
        if (count > 0) {
          usedCards.push({ ...option, count });
          totalCovered += count * totalValue;
          totalCashUsed += count * option.cash;
          remaining = amount - totalCovered;
        }
      }

      let extraPay = remaining > 0 ? remaining : 0;
      let totalPay = totalCashUsed + extraPay;
      let discount = ((amount - totalPay) / amount * 100).toFixed(2);

      let resultHTML = "";
      for (let card of usedCards) {
        resultHTML += `‚Ä¢ ‡πÉ‡∏ä‡πâ Cash Card ${card.cash.toLocaleString()} ‡∏ö‡∏≤‡∏ó √ó ${card.count} ‡πÉ‡∏ö (Gift ${card.gift.toLocaleString()} ‡∏ö‡∏≤‡∏ó/‡πÉ‡∏ö)<br/>`;
      }

      resultHTML += `
        <br/>‚úÖ ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏°: ${totalCovered.toLocaleString()} ‡∏ö‡∏≤‡∏ó
        <br/>üí≥ ‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ã‡∏∑‡πâ‡∏≠ Cash Card: ${totalCashUsed.toLocaleString()} ‡∏ö‡∏≤‡∏ó
        <br/>ü™ô ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°: ${extraPay.toLocaleString()} ‡∏ö‡∏≤‡∏ó
        <br/><br/><b>‡∏£‡∏ß‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: ${totalPay.toLocaleString()} ‡∏ö‡∏≤‡∏ó</b>
        <br/>üéÅ ‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö: <b>${discount}%</b>
      `;

      document.getElementById("resultBox").innerHTML = resultHTML;
    }
  </script>
</body>
</html>